<!DOCTYPE html>
<html>
<head>
    <title>Quizzer</title>
    <link rel="icon" href="Logo.png">
    <link rel="stylesheet" href="quiz.css">
    <script src="https://kit.fontawesome.com/1fb7c3da32.js" crossorigin="anonymous"></script>
    <style>
        
    </style>
</head>
<body>
     <nav class="navbar">
        <ul class="nav-list">
            <!-- <li class="logo">    Quizzer
                <img src="Logo.png" alt="Quizer Logo" style="width: 80px; height: 60px;">
        </li> -->
            <li><a href="index.html">Home</a></li>
            <li><a href="quiz.html">Quiz</a></li>
            <li><a href="result.html">Result</a></li>
            <li><a href="about.html">About Us</a></li>
            <!-- <li id="search-li">
                <a href="#" id="search-icon"><i class="fas fa-search"></i></a>
                <input type="text" id="search-box" placeholder="Search...">
            </li> -->
            <li style="position: relative; left: 150px;">
              <a href="login.html">
                <button class="signup-btn" style="background-color: #2e3133; color: #ffb347; font-size: 1.1rem; padding: 10px 28px; border: none; border-radius: 5px; cursor: pointer; position: relative; left: -45px;">
                  Sign Up
                </button>
              </a>
            </li><!-- Removed extra </a> here -->
        </ul>
    </nav>
    <div class="container">
        <header>
            <h2><i class="fas fa-brain"></i> Quizzer</h2>
            <p>Test your knowledge across various categories</p>
        </header>
        
        <!-- Category Selection -->
        <div id="category-selection" class="category-selection">
            <div class="category-card" data-category="science">
                <div class="category-icon"><i class="fas fa-atom"></i></div>
                <h3>Science</h3>
                <p>20 Questions</p>
            </div>
            
            <div class="category-card" data-category="sports">
                <div class="category-icon"><i class="fas fa-running"></i></div>
                <h3>Sports</h3>
                <p>20 Questions</p>
            </div>
            
            <div class="category-card" data-category="history">
                <div class="category-icon"><i class="fas fa-landmark"></i></div>
                <h3>History</h3>
                <p>20 Questions</p>
            </div>
            
            <div class="category-card" data-category="music">
                <div class="category-icon"><i class="fas fa-music"></i></div>
                <h3>Music</h3>
                <p>20 Questions</p>
            </div>
            
            <div class="category-card" data-category="movies">
                <div class="category-icon"><i class="fas fa-film"></i></div>
                <h3>Movies</h3>
                <p>20 Questions</p>
            </div>
            
            <div class="category-card" data-category="geography">
                <div class="category-icon"><i class="fas fa-globe-americas"></i></div>
                <h3>Geography</h3>
                <p>20 Questions</p>
            </div>
        </div>
        
        <!-- Quiz Area (Initially hidden) -->
        <div id="quiz-area" class="quiz-area" style="display: none;">
            <div class="quiz-header">
                <div id="question-count">Question 1 of 20</div>
                <div id="timer">02:00</div>
            </div>
            
            <div class="progress-bar">
                <div id="progress" class="progress"></div>
            </div>
            
            <div id="question" class="question"></div>
            
            <div id="options" class="options"></div>
            
            <div id="explanation" class="explanation">
                <h4><i class="fas fa-lightbulb"></i> Explanation:</h4>
                <p id="explanation-text"></p>
            </div>
            
            <div class="navigation">
                <button id="quit-btn">Quit Quiz</button>
                <button id="next-btn" disabled>Next Question</button>
            </div>
        </div>
        
        <!-- Results Section (Initially hidden) -->
        <div id="results" class="results" style="display: none;">
            <h2>Quiz Completed!</h2>
            <div class="score">
                Your Score: <span id="score">0</span>/20
            </div>
            
            <div id="feedback" class="feedback">
                <h3><i class="fas fa-chart-pie"></i> Performance Feedback</h3>
                <p id="strengths"></p>
                <p id="weaknesses"></p>
                <p id="recommendations"></p>
            </div>
            
            <button id="restart-btn">Take Another Quiz</button>
        </div>
    </div>

    <script>
        // Quiz data for all categories
        const quizData = {
            science : [
                {
                    question: "What is the chemical symbol for gold?",
                    options: ["Go", "Au", "Ag", "Gd"],
                    correct: 1,
                    explanation: "Gold's chemical symbol is Au, from the Latin word 'aurum' meaning shining dawn."
                },
                {
                    question: "Which planet is known as the Red Planet?",
                    options: ["Venus", "Mars", "Jupiter", "Saturn"],
                    correct: 1,
                    explanation: "Mars appears red due to iron oxide (rust) on its surface."
                },  
                {
                    question: "For COVID-19, which Indian institution developed a Rapid Antigen Test Kit, which was quite affordable and priced at just Rs. 50",
                    options: ["VIIT Delhi", "Indian Institute of Science, Bengaluru", "AIIMS New Delhi", "NIV Pune"],
                    correct: 1,
                    explanation: "This test kit developed by IIT Delhi was approved by ICMR, andgave results within 5 minutes. IIT Delhi has patented this Technology which is based on identifying monoclonal antibodies which are specific to the Coronavirus antigen."
                },
                {
                    question: "Mention the president of the Council of Scientific and Industrial Research in India",
                    options: ["Vice-President of India", "Prime Minister of India", "President of India", "Union Minister of Science and Technology"],
                    correct: 2,
                    explanation: "The President of the Council of Scientific and Industrial Research (CSIR) in India is the Prime Minister of India."
                },
                {  
                    question: "Where was India’s first satellite, Aryabhata, launched from?",
                    options: ["America", "India", "Soviet Union", "Israel"],
                    correct: 3,
                    explanation: "The first satellite of India was named after the famous Indian astronomer Aryabhata and completely fabricated and designed in India. It was launched on 19th April 1975 from Kapustin Yar by a Soviet Kosmos-3M Rocket."
                },
                {
                    question: "Which gas is most abundant in the Earth's atmosphere?",
                    options: ["Oxygen", "Nitrogen", "Carbon Dioxide", "Hydrogen"],
                    correct: 1,
                    explanation: "Nitrogen makes up about 78% of the Earth's atmosphere, making it the most abundant gas."
                },
                {
                    question: "Bulletin”, a set of subscription and publishing tools, was launched by which social media company?",
                    options: ["Facebook", "Twitter", "Instagram", "LinkedIn"],
                    correct: 1,
                    explanation: "Bulletin has been announced by FB to promote independent writers in the United States. This set of tools will provide support for content creation, audience growth, and monetisation. " // The space here is a regular space now
                },
                {
                    question: "India's first satellite, which was launched specifically for educational purposes, is called?",
                    options: ["EDUSAT", "SARAL", "HAMSA", "RISAT-I"],
                    correct: 1,
                    explanation: "EDUSAT was launched in 2004 to provide educational services."
                },
                {
                    question: "A top American university plans to expand genetic testing in India by partnering with AIIMS in Delhi and one more institute, which is?",
                    options: ["Maulana Azad Medical College in Delhi", "Kasturba Medical College in Manipal", "Guntur Medical College, Guntur", "Chhattisgarh Institute of Medical Sciences, Bilaspur"],
                    correct: 2,
                    explanation: "The University of Michigan has received a grant of 2.3 million USD for over five years from the National Institute of Health. This grant will help them (along with Indian geneticists) identify and confirm those genetic changes that are the main reason for developmental disorders."
                },
                {
                    question: "Which planet's moon is Ganymede?",
                    options: ["Jupiter", "Saturn", "Venus", "Mercury"],
                    correct: 1,
                    explanation: "Ganymede is the most massive and the largest moon present in the solar system. It ranks as the 9th largest object in the solar system that includes the Sun. NASA (US Space agency) released a video that showed Juno (NASA’s spacecraft) flying close to Ganymede, showing dark and light regions of the moon. It also showed the brightest crater scar on Ganymede, which is the crater Tros."
                },
                {
                    question: "What is the main function of red blood cells in the human body?",
                    options: ["Fight infections", "Transport oxygen", "Clot blood", "Produce hormones"],
                    correct: 1,
                    explanation: "Red blood cells are responsible for transporting oxygen from the lungs to the rest of the body."
                },
                {
                    question: "What kind of light can accelerate the ageing process?",
                    options: ["Red light", "Blue light", "Yellow light", "Green light"],
                    correct: 2,
                    explanation: "Oregon State University has researched that extended exposure to blue light can age you faster even if the light does not enter your eyes. Light coming from phones, computers, and other household items are also harmful. As per new research, the diodes which emit light and produce blue wavelengths are capable of damaging brain cells and the retina."
                },
                {
                    question: "Name the 100th satellite that ISRO had launched from Sriharikota in Andhra Pradesh?",
                    options: ["GSAT-11", "RISAT-2", "Cartosat-2", "None of these."],
                    correct: 3,
                    explanation: "Cartosat-2 series is a weather observation satellite that was successfully launched by the Indian Space Research Organization using its PSLV-C40 (Polar Satellite Launch Vehicle). Along with Cartosat-2, 30 other spacecraft were launched. These satellites lifted off from SDSC (Satish Dhawan Space Center) in Sriharikota, and all 31 satellites were launched in a single flight."
                },
                {
                    question: "Which vehicle successfully launched the Chandrayan-2 satellite?",
                    options: ["PSLV C11", "RISAT-2", "GSLV MK III", "GSLV F11"],
                    correct: 3,
                    explanation: "India’s GSLV Mk III (Geosynchronous Satellite Launch Vehicle) launched the second mission to the moon, Chandrayaan-2, on 22nd July 2019. The satellite reached the lunar orbit on 19th August 2019."
                },
                {
                    question: "A veterinary doctor from Kerala recently patented the invention of biodiesel from a product. Which product was it?",
                    options: ["VGlass", "Chicken waste", "Cotton", "Fish waste"],
                    correct: 2,
                    explanation: "John Abrahan of Kerala (a veterinary doctor and inventor) patented his innovation of creating biodiesel from slaughtered chicken waste. With this diesel, one can get a mileage of 38 km per liter at a much lesser price than diesel (nearly 40% of the current diesel rate). This diesel is also expected to curb air pollution by half. The Indian Patent Office granted this invention of generating biodiesel from rendered chicken oil."
                },
                {
                    question: "Which technology giant is going to set up a Center of Excellence for AI (Artificial Intelligence) along with GeM?",
                    options: ["IBM", "Microsoft", "Infosys", "Apple"],
                    correct: 1,
                    explanation: "IBM will be setting up a CoE for AI with the GeM (Government e-Marketplace). The aim of the CoE is to bring in cost-saving, efficiency, and transparency in the public procurement process. This was announced in the RAISE 2020 AI Summit by the CoE of IBM. IBM is working with NITI Ayog and the Karnataka government to develop precision agricultural solutions by means of AI."
                },
                {
                    question: " The world’s largest solar tree in India has been developed by which institution?",
                    options: ["CSIR", "ISRO", "IISc", "IIT Bombay"],
                    correct: 1,
                    explanation: "The CMERI (Central Mechanical Engineering Research Institute) of CSIR developed and installed the world’s largest solar tree at the CSIR residential complex which is in Durgapur, West Bengal. The design of the solar tree is ergonomic and ensures each solar photovoltaic panel gets maximum solar exposure. Each tree has 35 solar photovoltaic panels, and the tree can generate 12000 to 14000 units of power in a year."
                },
                {
                    question: "What does DNA stand for?",
                    options: ["Deoxyribonucleic Acid​", "Deoxyribose Nucleic Acid​", "Dioxyribonucleic Acid​", "Dioxyribose Nucleic Acid​"],
                    correct: 1,
                    explanation: "DNA stands for Deoxyribonucleic Acid."
                },
                {
                    question: "Who is known as the father of modern physics?",
                    options: ["Isaac Newton", "Albert Einstein", "Galileo Galilei", "Niels Bohr"],
                    correct: 2,
                    explanation: "Albert Einstein is often referred to as the father of modern physics due to his contributions to the theory of relativity and quantum mechanics.​ "
                },
                {
                    question: "What is the powerhouse of the cell?",
                    options: ["Nucleus", "Mitochondria", "Ribosome", "Chloroplast"],
                    correct: 1,
                    explanation: "Mitochondria are known as the powerhouse of the cell because they produce energy in the form of ATP."
                }
            ],
            sports: [ /* ... sports questions ... */ ],
            history: [ /* ... history questions ... */ ],
            music: [ /* ... music questions ... */ ],
            movies: [ /* ... movies questions ... */ ],
            geography: [ /* ... geography questions ... */ ]
        };

        // Quiz state variables
        let currentCategory = null;
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let timeLeft = 120; // 2 minutes per question
        let timer;
        let userAnswers = [];
        // let categoryPerformance = {}; // This was unused, can be removed or kept for future.

        // DOM elements
        const categorySelection = document.getElementById('category-selection');
        const quizArea = document.getElementById('quiz-area');
        const resultsArea = document.getElementById('results');
        const questionCountElement = document.getElementById('question-count');
        const timerElement = document.getElementById('timer');
        const questionElement = document.getElementById('question');
        const optionsElement = document.getElementById('options');
        const explanationElement = document.getElementById('explanation');
        const explanationTextElement = document.getElementById('explanation-text');
        const nextButton = document.getElementById('next-btn');
        const quitButton = document.getElementById('quit-btn');
        const restartButton = document.getElementById('restart-btn');
        const scoreElement = document.getElementById('score');
        const strengthsElement = document.getElementById('strengths');
        const weaknessesElement = document.getElementById('weaknesses');
        const recommendationsElement = document.getElementById('recommendations');
        const progressBar = document.getElementById('progress');

        // Initialize category selection
        document.querySelectorAll('.category-card').forEach(card => {
            card.addEventListener('click', () => {
                currentCategory = card.getAttribute('data-category');
                startQuiz();
            });
        });

        // Start quiz function
        function startQuiz() {
            currentQuestions = [...quizData[currentCategory]];
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = [];
            categorySelection.style.display = 'none';
            quizArea.style.display = 'block';        // SHOW quiz area
            resultsArea.style.display = 'none';       // HIDE results area
            
            // Shuffle questions
            shuffleArray(currentQuestions);
            
            showQuestion();
        }

        // Display current question
        function showQuestion() {
            resetQuestionState();
            const currentQuestion = currentQuestions[currentQuestionIndex];
            
            questionCountElement.textContent = `Question ${currentQuestionIndex + 1} of ${currentQuestions.length}`;
            questionElement.textContent = currentQuestion.question;
            progressBar.style.width = `${((currentQuestionIndex + 1) / currentQuestions.length) * 100}%`; // Progress from 1 to 100
            
            optionsElement.innerHTML = '';
            currentQuestion.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option');
                optionElement.innerHTML = `
                    <input type="radio" name="option" id="option${index}" value="${index}">
                    <label for="option${index}">${option}</label>
                `;
                optionElement.addEventListener('click', () => {
                    if (nextButton.disabled) { // Only allow selection if next button is disabled (i.e., answer not yet picked)
                        document.getElementById(`option${index}`).checked = true;
                        selectAnswer(index);
                    }
                });
                optionsElement.appendChild(optionElement);
            });
            
            startTimer();
        }

        // Timer function
        function startTimer() {
            timeLeft = 120;
            updateTimerDisplay();
            clearInterval(timer);
            
            timer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    handleTimeOut();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function handleTimeOut() {
            const currentQuestion = currentQuestions[currentQuestionIndex];
            userAnswers.push({
                question: currentQuestion.question,
                correct: false,
                explanation: currentQuestion.explanation
            });
            showCorrectAnswer();
            document.querySelectorAll('.option input[type="radio"]').forEach(radio => radio.disabled = true);
            document.querySelectorAll('.option').forEach(opt => opt.style.pointerEvents = 'none');
            nextButton.disabled = false;
        }

        function selectAnswer(selectedIndex) {
            clearInterval(timer);
            const currentQuestion = currentQuestions[currentQuestionIndex];
            const isCorrect = selectedIndex === currentQuestion.correct;
            userAnswers.push({
                question: currentQuestion.question,
                correct: isCorrect,
                explanation: currentQuestion.explanation
            });
            if (isCorrect) score++;
            showAnswerFeedback(selectedIndex, currentQuestion.correct);
            document.querySelectorAll('.option input[type="radio"]').forEach(radio => radio.disabled = true);
            document.querySelectorAll('.option').forEach(opt => opt.style.pointerEvents = 'none');
            nextButton.disabled = false;
        }

        function showAnswerFeedback(selectedIndex, correctIndex) {
            const options = document.querySelectorAll('.option');
            options.forEach((option, index) => {
                if (index === correctIndex) option.classList.add('correct');
                else if (index === selectedIndex) option.classList.add('incorrect');
            });
            explanationTextElement.textContent = currentQuestions[currentQuestionIndex].explanation;
            explanationElement.style.display = 'block';
        }

        function showCorrectAnswer() {
            const options = document.querySelectorAll('.option');
            const correctIndex = currentQuestions[currentQuestionIndex].correct;
            if (options[correctIndex]) options[correctIndex].classList.add('correct');
            explanationTextElement.textContent = currentQuestions[currentQuestionIndex].explanation;
            explanationElement.style.display = 'block';
        }

        function resetQuestionState() {
            explanationElement.style.display = 'none';
            nextButton.disabled = true;
            document.querySelectorAll('.option input[type="radio"]').forEach(radio => radio.disabled = false);
            document.querySelectorAll('.option').forEach(opt => {
                opt.style.pointerEvents = 'auto';
                opt.classList.remove('correct', 'incorrect');
            });
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < currentQuestions.length) {
                showQuestion();
            } else {
                endQuiz();
            }
        }

        function endQuiz() {
            clearInterval(timer);
            quizArea.style.display = 'none';
            resultsArea.style.display = 'block'; // SHOW results area
            scoreElement.textContent = score;
            const result = {
                category: currentCategory,
                score: score,
                total: currentQuestions.length,
                date: new Date().toLocaleString()
            };
            const existingResults = JSON.parse(localStorage.getItem('quizHistory')) || [];
            existingResults.push(result);
            localStorage.setItem('quizHistory', JSON.stringify(existingResults));
            generateFeedback();
        }

        function generateFeedback() {
            const correctCount = userAnswers.filter(answer => answer.correct).length;
            const percentage = userAnswers.length > 0 ? (correctCount / userAnswers.length) * 100 : 0;
            
            if (percentage >= 70) strengthsElement.textContent = `You excelled in ${currentCategory} with ${percentage.toFixed(0)}% correct answers!`;
            else if (percentage >= 50) strengthsElement.textContent = `You showed good understanding in some areas of ${currentCategory}.`;
            else strengthsElement.textContent = `You're beginning to learn about ${currentCategory}.`;
            
            const incorrectAnswers = userAnswers.filter(answer => !answer.correct);
            if (incorrectAnswers.length > 0) weaknessesElement.textContent = `Areas to improve: Review ${incorrectAnswers.length} questions you missed.`;
            else if (userAnswers.length > 0) weaknessesElement.textContent = "Perfect score! No weaknesses detected in this category.";
            else weaknessesElement.textContent = "No questions were answered.";
            
            if (percentage >= 80) recommendationsElement.textContent = "Excellent performance! Consider trying a more advanced quiz.";
            else if (percentage >= 60) recommendationsElement.textContent = "Good job! Review the explanations and try again to improve.";
            else if (userAnswers.length > 0) recommendationsElement.textContent = "Spend more time studying this category. Focus on the explanations provided.";
            else recommendationsElement.textContent = "Try answering some questions next time!";
        }

        nextButton.addEventListener('click', nextQuestion);
        quitButton.addEventListener('click', () => {
            if (confirm('Are you sure you want to quit the quiz? Your progress will not be saved for the current attempt.')) {
                endQuiz();
            }
        });
        restartButton.addEventListener('click', () => {
            categorySelection.style.display = 'grid'; // Or 'flex'
            quizArea.style.display = 'none';
            resultsArea.style.display = 'none';
        });

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>
</body>
<footer class="footer">
  © 2025 Quizzer. All rights reserved.
</footer>
</html>
